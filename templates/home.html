{% extends "base.html" %}{% load staticfiles %}
{% block content %}
<header class="home_header">
	<div class="heading-content">
		<h1 class="page-header">{{ page_header }}</h1>
		{% if template == 'home' or template == 'list' or template == 'form' or template == 'detail'  %}
		<ul class="notification">

		{% if content.notification.current_date %}
			<li class="date">{{ content.notification.current_date }}</li>
		{% endif %}

		{% if content.notification.inbox %}{% if content.notification.inbox > 0 %}
			<li class="recent_inbox"><span class="inbox_emoji">&nbsp;</span><a href="{% url 'inbox:inbox' %}">{{ content.notification.inbox }} unread message{% if content.notification.inbox > 1 %}s{% endif %}</a></li>
		{% endif %}{% endif %}

		{% if content.notification.classroom %}{% if content.notification.classroom > 0 %}
			<li class="active_classroom"><span class="classroom_emoji">&nbsp;</span><a href="{% url 'classroom:classroom_list' %}">{{ content.notification.classroom }} classroom{% if content.notification.classroom > 1 %}s{% endif %}</a></li>
		{% endif %}{% endif %}

			<li class='logout'><a href="{% url 'user:logout' %}">Logout</a></li>
		</ul>
		{% endif %}
	</div>
</header>

<div class="sp_content">
{% if template == "form" %}
	<section class="content_form">
		<form action="{% url content.submit_url %}" method="post">
			{% csrf_token %}
			{{ content.form|linebreaks }}
			<input type="submit" name="Submit">
		</form>
	</section>
{% endif %}

{% if template == "list" %}
	<section class="info_list"><form>
	{% if content.operation %}
		<div class="operation">
		{% for list_item in content.operation %}
			<li><a href="{% url list_item.1 %}" class="{{ list_item.2 }}">{{ list_item.0 }}</a></li>
		{% endfor %}
		</div>
	{% endif %}
	{% if content.list.name == 'inbox' %}
		<div class="list_table">
			
			<table>
				<thead>
					<tr>
						<td>#</td>
						<td>Read</td>
						<td>Title</td>
						<td>Sender</td>
						<td>Date</td>
					<tr>
				<tbody>
					<tr>
					{% for msg in content.list.body %}
						<td><input type="checkbox" name="msg_action" value="{{ msg.pk }}"></td>
						<td><span class="{% if msg.read %}read{% else %}unread{% endif %}"></span></td>
						<td><a href="{% url 'inbox:view' msg.pk %}">{{ msg.content.title }}</a></td>
						<td>{{ msg.sender.username }}</td>
						<td>{{ msg.send_datetime }}</td>
					<tr>
					{% endfor %}					
				</tbody>
				
			</table>

		</div>
		<div class="adv_operation"></div>
	{% endif %}

	{% if content.list.name == 'user' %}
		<div class="list_table">
			<table>
				<thead>
					<tr>
						<td>#</td>
						<td>username</td>
						<td>First name</td>
						<td>Last name</td>
						<td>Role</td>
					<tr>
				<tbody>
					<tr>
					{% for data in content.list.body %}
						<td><input type="checkbox" name="user_action" value="{{ data.pk }}"></td>
						<td><a href="{% url 'user:view_user' data.pk %}">{{ data.content.username }}</a></td>
						<td>{{ data.content.firstname }}</td>
						<td>{{ data.content.lastname }}</td>
						<td>{{ data.content.role.name }}</td>
					<tr>
					{% endfor %}					
				</tbody>
				
			</table>

		</div>
		<div class="adv_operation"></div>
	{% endif %}		
	</form></section>
{% endif %}

{% if template == 'detail' %}
	<section class="info_detail">
	{% if content.detail %}
		{% for value in content.detail %}
			<p>{{ value.0 }}</p>
			<p>{{ value.1 }}</p>
			<p>{{ value.2 }}</p>
			<p>{{ value.3|linebreaks }}</p>
		{% endfor %}
	{% endif %}
	</section>
{% endif %}

{% if template == 'notification' %}
	<section class="notification">
		{% if content.notification %}<h1 class="notification_title">{{ content.notification }}</h1>{% endif %}
		{% if content.auto_redirect %}You will automatically be redirected to <a href="{% url content.redirect_url %}">{{ content.redirect_text }}</a> in 5 seconds...<script>setTimeout('window.location="{% url content.redirect_url %}"', 5000)</script>{% endif %}
	</section>
{% endif %}

{% if template == 'testing' %}<p>{{ page_title }}</p><p>{{ page_header }}</p><p>{{ content }}</p>{% endif %}{% endblock %}

</div>



